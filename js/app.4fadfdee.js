(function(){"use strict";var t={818:function(t,e,r){r.d(e,{Z:function(){return et}});var s=r(6369),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"container"},[e("router-view")],1)])},u=[],o=r(1001),i={},a=(0,o.Z)(i,n,u,!1,null,null,null),c=a.exports,l=r(2631),S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("VSelect",{staticClass:"main__select"}),e("VTable")],1)},_=[],m=r(3822),h=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table"},[e("thead",[e("tr",{staticClass:"table__row"},t._l(t.headers,(function(s){return e("th",{key:s.value,staticClass:"table__title",class:{active:s.value===t.currentSort,rotate:"desc"===t.currentSortDir},on:{click:function(e){t.sort(s.value),t.setRouteParams(t.queryParams)}}},[t._v(" "+t._s(s.name)+" "),e("img",{staticClass:"table__icon",attrs:{src:r(1434)}})])})),0)]),e("tbody",t._l(t.sortedRows,(function(r){return e("tr",{key:r.id},t._l(r,(function(r){return e("td",{key:r.id,staticClass:"table__cell"},[t._v(" "+t._s(r)+" ")])})),0)})),0)])},y=[];r(7658);function E(t){const e={};return Object.entries(t).forEach((([t,r])=>{r&&(e[t]=r)})),e}function d(t){const e=E(t);et.$router.push({query:e}).catch((()=>{}))}var p={name:"v-table",computed:{...(0,m.rn)(["headers","rows","currentSort","currentSortDir"]),...(0,m.Se)(["sortedRows","queryParams"])},methods:{...(0,m.OI)(["SET_CURRENT_SORT_DIR","SET_CURRENT_SORT"]),sort(t){if(t===this.currentSort){const t="asc"===this.currentSortDir?"desc":"asc";this.$store.commit("SET_CURRENT_SORT_DIR",t)}this.$store.commit("SET_CURRENT_SORT",t)},setRouteParams:d}},R=p,v=(0,o.Z)(R,h,y,!1,null,null,null),T=v.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-select"},[e("VToggler",{staticClass:"v-select__toggler",attrs:{currentSelect:t.currentSelect,options:t.options},on:{select:t.selectOption}}),t.isRange?e("div",{staticClass:"v-select__block"},[e("VInput",{staticClass:"v-select__input",attrs:{value:t.queryParams.min,placeholder:"min",type:"number"},on:{setQuery:t.submitMinVal}}),e("VInput",{staticClass:"v-select__input",attrs:{value:t.queryParams.max,placeholder:"max",type:"number"},on:{setQuery:t.submitMaxVal}})],1):t._e(),t.isLogin?e("div",{staticClass:"v-select__block"},[e("VInput",{staticClass:"v-select__input",attrs:{value:t.queryParams.queryLogin,placeholder:t.currentSelect,type:"text"},on:{setQuery:t.submitQueryLogin}})],1):t._e(),t.isStatus?e("div",{staticClass:"v-select__block"},[e("VInput",{staticClass:"v-select__input",attrs:{value:t.queryParams.queryStatus,placeholder:t.currentSelect,type:"text"},on:{setQuery:t.submitQueryStatus}})],1):t._e(),e("VButton",{staticClass:"v-select__btn",attrs:{text:"Clear filters"},on:{btnClick:t.clearFilters}})],1)},C=[],g=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn",on:{click:t.btnClick}},[t._t("default",(function(){return[t._v(t._s(t.text))]}))],2)},b=[],Q={name:"v-button",props:{text:{type:String}},methods:{btnClick(){this.$emit("btnClick")}}},O=Q,M=(0,o.Z)(O,g,b,!1,null,null,null),N=M.exports,q=function(){var t=this,e=t._self._c;return e("input",{staticClass:"v-input",attrs:{placeholder:t.placeholder,type:t.type},domProps:{value:t.value},on:{input:t.setQuery}})},x=[],U={name:"v-input",props:{placeholder:{type:String},value:{type:[String,Number]},type:{type:String}},methods:{setQuery(t){this.$emit("setQuery",t.target.value)}}},$=U,L=(0,o.Z)($,q,x,!1,null,null,null),w=L.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-toggler"},t._l(t.options,(function(r){return e("div",{key:r.value,staticClass:"v-toggler__option",class:{active:t.currentSelect===r.value},on:{click:function(e){return t.select(r.value)}}},[t._v(" "+t._s(r.name)+" ")])})),0)},D=[],P={name:"v-toggler",props:{options:{type:Array,default:()=>[]},currentSelect:{type:String}},methods:{select(t){this.$emit("select",t)}}},A=P,k=(0,o.Z)(A,I,D,!1,null,null,null),V=k.exports,Y={name:"my-select",components:{VButton:N,VInput:w,VToggler:V},computed:{...(0,m.rn)(["options","currentSelect"]),...(0,m.Se)(["queryParams"]),isRange(){return"orders"===this.currentSelect},isLogin(){return"login"===this.currentSelect},isStatus(){return"status"===this.currentSelect}},methods:{...(0,m.OI)(["SET_ORDERS_MIN","SET_ORDERS_MAX","SET_SEARCH_QUERY","SET_SEARCH_QUERY_LOGIN","SET_SEARCH_QUERY_STATUS","SET_CURRENT_SELECT","SET_INIT_QUERY"]),submitQuery(t){this.$store.commit("SET_SEARCH_QUERY",t.toLowerCase()),d(this.queryParams)},submitQueryLogin(t){this.$store.commit("SET_SEARCH_QUERY_LOGIN",t.toLowerCase()),d(this.queryParams)},submitQueryStatus(t){this.$store.commit("SET_SEARCH_QUERY_STATUS",t.toLowerCase()),d(this.queryParams)},submitMinVal(t){this.$store.commit("SET_ORDERS_MIN",Math.abs(t)),d(this.queryParams)},submitMaxVal(t){this.$store.commit("SET_ORDERS_MAX",Math.abs(t)),d(this.queryParams)},selectOption(t){this.$store.commit("SET_CURRENT_SELECT",t),d(this.queryParams)},clearFilters(){this.$store.commit("SET_INIT_QUERY"),this.$router.push({}).catch((()=>{}))}}},Z=Y,H=(0,o.Z)(Z,f,C,!1,null,null,null),j=H.exports,G={name:"v-main",components:{VTable:T,VSelect:j},computed:{...(0,m.rn)(["initQuery"])},methods:{...(0,m.OI)(["SET_ORDERS_MIN","SET_ORDERS_MAX","SET_CURRENT_SORT","SET_CURRENT_SORT_DIR","SET_SEARCH_QUERY","SET_SEARCH_QUERY_LOGIN","SET_SEARCH_QUERY_STATUS","SET_CURRENT_SELECT"])},mounted(){this.$store.commit("SET_ORDERS_MIN",this.$route.query.min?Number(this.$route.query.min):this.initQuery.ordersMin),this.$store.commit("SET_ORDERS_MAX",this.$route.query.max?Number(this.$route.query.max):this.initQuery.ordersMax),this.$store.commit("SET_CURRENT_SORT",this.$route.query.sort?this.$route.query.sort:this.initQuery.currentSort),this.$store.commit("SET_CURRENT_SORT_DIR",this.$route.query.dir?this.$route.query.dir:this.initQuery.currentSortDir),this.$store.commit("SET_SEARCH_QUERY_LOGIN",this.$route.query.queryLogin?this.$route.query.queryLogin:this.initQuery.searchQueryLogin),this.$store.commit("SET_SEARCH_QUERY_STATUS",this.$route.query.queryStatus?this.$route.query.queryStatus:this.initQuery.searchQueryStatus),this.$store.commit("SET_CURRENT_SELECT",this.$route.query.select?this.$route.query.select:this.initQuery.currentSelect)}},X=G,F=(0,o.Z)(X,S,_,!1,null,null,null),B=F.exports;s.ZP.use(l.ZP);const z=[{path:"/",name:"main",component:B}],J=new l.ZP({mode:"history",base:"/vue-table/",routes:z});var K=J;s.ZP.use(m.ZP);var W=new m.ZP.Store({state:{headers:[{name:"Место",value:"place"},{name:"Логин",value:"login"},{name:"Подтвержденные заказы",value:"orders"},{name:"Статус",value:"status"}],rows:[{place:1,login:"smith@gmail.com",orders:312,status:"Ценитель красоты"},{place:2,login:"lenin@gmail.com",orders:120,status:"Поставщик аксессуаров"},{place:3,login:"mask@gmail.com",orders:98,status:"Конкурент минздрава"},{place:4,login:"dog@mail.ru",orders:64,status:"рыбак"},{place:5,login:"nightmare@mail.ru",orders:34,status:"охотник"},{place:6,login:"cat@mail.ru",orders:1,status:"Ценитель красоты"}],options:[{name:"Логин",value:"login"},{name:"Подтвержденные заказы",value:"orders"},{name:"Статус",value:"status"}],initQuery:{searchQueryLogin:"",searchQueryStatus:"",currentSelect:"login",ordersMin:null,ordersMax:null,currentSort:"",currentSortDir:"asc"},searchQueryLogin:"",searchQueryStatus:"",currentSelect:"login",ordersMin:null,ordersMax:null,currentSort:"",currentSortDir:"asc"},getters:{filteredRows(t){return[...t.rows].filter((e=>t.searchQueryLogin?e.login.toLowerCase().includes(t.searchQueryLogin):t.rows)).filter((e=>t.searchQueryStatus?e.status.toLowerCase().includes(t.searchQueryStatus):t.rows)).filter((e=>t.ordersMin&&!t.ordersMax?Number(e.orders)>=Number(t.ordersMin):!t.ordersMin&&t.ordersMax?Number(e.orders)<=Number(t.ordersMax):t.ordersMin&&t.ordersMax?Number(e.orders)>=Number(t.ordersMin)&&Number(e.orders)<=Number(t.ordersMax):t.rows))},sortedRows(t,e){return e.filteredRows.sort(((e,r)=>"login"===t.currentSort||"status"===t.currentSort?"asc"===t.currentSortDir?e[t.currentSort]?.localeCompare(r[t.currentSort]):r[t.currentSort]?.localeCompare(e[t.currentSort]):"asc"===t.currentSortDir?e[t.currentSort]-r[t.currentSort]:r[t.currentSort]-e[t.currentSort]))},queryParams(t){return{min:t.ordersMin,max:t.ordersMax,queryLogin:t.searchQueryLogin,queryStatus:t.searchQueryStatus,dir:t.currentSortDir,sort:t.currentSort}}},mutations:{SET_CURRENT_SELECT(t,e){t.currentSelect=e},SET_SEARCH_QUERY_LOGIN(t,e){t.searchQueryLogin=e},SET_SEARCH_QUERY_STATUS(t,e){t.searchQueryStatus=e},SET_ORDERS_MIN(t,e){t.ordersMin=e},SET_ORDERS_MAX(t,e){t.ordersMax=e},SET_CURRENT_SORT(t,e){t.currentSort=e},SET_CURRENT_SORT_DIR(t,e){t.currentSortDir=e},SET_INIT_QUERY(t){t.searchQueryLogin=t.initQuery.searchQueryLogin,t.searchQueryStatus=t.initQuery.searchQueryStatus,t.currentSelect=t.initQuery.currentSelect,t.ordersMin=t.initQuery.ordersMin,t.ordersMax=t.initQuery.ordersMax,t.currentSort=t.initQuery.currentSort,t.currentSortDir=t.initQuery.currentSortDir}},actions:{},modules:{}});s.ZP.config.productionTip=!1;const tt=new s.ZP({router:K,store:W,render:t=>t(c)}).$mount("#app");var et=tt},1434:function(t,e,r){t.exports=r.p+"img/sort-arrow-top.6a3dae24.svg"}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var u=e[s]={exports:{}};return t[s](u,u.exports,r),u.exports}r.m=t,function(){var t=[];r.O=function(e,s,n,u){if(!s){var o=1/0;for(l=0;l<t.length;l++){s=t[l][0],n=t[l][1],u=t[l][2];for(var i=!0,a=0;a<s.length;a++)(!1&u||o>=u)&&Object.keys(r.O).every((function(t){return r.O[t](s[a])}))?s.splice(a--,1):(i=!1,u<o&&(o=u));if(i){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}u=u||0;for(var l=t.length;l>0&&t[l-1][2]>u;l--)t[l]=t[l-1];t[l]=[s,n,u]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p="/vue-table/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,u,o=s[0],i=s[1],a=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(a)var l=a(r)}for(e&&e(s);c<o.length;c++)u=o[c],r.o(t,u)&&t[u]&&t[u][0](),t[u]=0;return r.O(l)},s=self["webpackChunkvue_table_app"]=self["webpackChunkvue_table_app"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(818)}));s=r.O(s)})();
//# sourceMappingURL=app.4fadfdee.js.map